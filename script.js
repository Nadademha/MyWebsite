const dictionary = [
    { english: "ability", maay: "awood" }, 
    { english: "able", maay: "awood leh" },
    { english: "about", maay: "ku saabsan" },
    { english: "above", maay: "kor" },
    { english: "abundant", maay: "badnaan" },
    { english: "accept", maay: "aqbal" },
    { english: "accident", maay: "shil" },
    { english: "accompany", maay: "la soco" },
    { english: "according", maay: "sida ku xusan" },
    { english: "account", maay: "xisaab" },
    { english: "accurate", maay: "sax ah" },
    { english: "achieve", maay: "gaadho" },
    { english: "acquire", maay: "hel" },
    { english: "across", maay: "dhinaca kale" },
    { english: "act", maay: "ficil" },
    { english: "action", maay: "ficil" },
    { english: "active", maay: "firfircoon" },
    { english: "actor", maay: "jilaa" },
    { english: "add", maay: "ku dar" },
    { english: "address", maay: "cinwaan" },
    { english: "adjust", maay: "habee" },
    { english: "admit", maay: "qir" },
    { english: "adopt", maay: "koriso" },
    { english: "adult", maay: "qaangaar" },
    { english: "advance", maay: "horumar" },
    { english: "advantage", maay: "faa'iido" },
    { english: "adventure", maay: "Safar xiiso badan oo lagu raaxaysto ama lagu barto wax cusub." },
    { english: "advice", maay: "talo" },
    { english: "affect", maay: "saameyn" },
    { english: "affection", maay: "jacayl" },
    { english: "afraid", maay: "cabsi" },
    { english: "after", maay: "ka dib" },
    { english: "afternoon", maay: "galab" },
    { english: "again", maay: "mar kale" },
    { english: "against", maay: "ka soo horjeeda" },
    { english: "age", maay: "da'" },
    { english: "agency", maay: "hay'ad" },
    { english: "agent", maay: "wakiil" },
    { english: "agree", maay: "waafaqsan" },
    { english: "agreement", maay: "heshiis" },
    { english: "ahead", maay: "horay" },
    { english: "air", maay: "hawo" },
    { english: "airplane", maay: "diyaarad" },
    { english: "algorithm", maay: "Hab fikradan ama farsamo loo isticmaalo si loo xaliyo dhibaatada xisaab ahaan ama loogula dhaqmo xog." },
    { english: "alive", maay: "nool" },
    { english: "all", maay: "dhammaan" },
    { english: "allow", maay: "ogolaado" },
    { english: "almost", maay: "ku dhowaad" },
    { english: "alone", maay: "keligaa" },
    { english: "along", maay: "la socda" },
    { english: "already", maay: "horay" },
    { english: "also", maay: "sidoo kale" },
    { english: "always", maay: "had iyo jeer" },
    { english: "amazing", maay: "cajiib" },
    { english: "ambition", maay: "Rabitaan xoogan oo lagu doonayo in qofku gaadho wax weyn ama guul wayn noloshiisa." },
    { english: "amount", maay: "qaddar" },
    { english: "ancient", maay: "qadiim" },
    { english: "anger", maay: "cadho" },
    { english: "angle", maay: "xagal" },
    { english: "animal", maay: "xayawaan" },
    { english: "announce", maay: "ku dhawaaq" },
    { english: "annual", maay: "sanadle ah" },
    { english: "another", maay: "mid kale" },
    { english: "answer", maay: "jawaab" },
    { english: "antibiotic", maay: "Daawo loo adeegsado in lagula dagaalamo ama dilo bakteeriyada jidhka ku jirta." },
    { english: "anxious", maay: "walwal" },
    { english: "any", maay: "wax kasta" },
    { english: "anyone", maay: "cid kasta" },
    { english: "apart", maay: "gooni" },
    { english: "apparent", maay: "cad" },
    { english: "appearance", maay: "muuqaal" },
    { english: "apple", maay: "tufaax" },
    { english: "application", maay: "codsi" },
    { english: "apply", maay: "dalbo" },
    { english: "appoint", maay: "magacaab" },
    { english: "approach", maay: "soo dhawoow" },
    { english: "approval", maay: "ogolaansho" },
    { english: "area", maay: "aag" },
    { english: "argue", maay: "dood" },
    { english: "arrange", maay: "diyaarso" },
    { english: "arrangement", maay: "diyaar garow" },
    { english: "arrest", maay: "xirid" },
    { english: "arrive", maay: "soo gaadhay" },
    { english: "arrow", maay: "fallaar" },
    { english: "art", maay: "farshaxan" },
    { english: "artificial intelligence", maay: "Teknoolojiyada ku dayata caqliga aadanaha oo si otomaatig ah wax u barto kana shaqeeya." },
    { english: "article", maay: "maqaal" },
    { english: "artist", maay: "farshaxanle" },
    { english: "as", maay: "sida" },
    { english: "ask", maay: "weydiiso" },
    { english: "asleep", maay: "hurdo" },
    { english: "assignment", maay: "hawl" },
    { english: "assist", maay: "caawi" },
    { english: "assistance", maay: "caawimaad" },
    { english: "associate", maay: "isku xidhiidh" },
    { english: "assume", maay: "u qaado" },
    { english: "atom", maay: "Qaybta ugu yar ee shayga oo ka kooban borotoon, neutron iyo electron, oo samaysa qaybaha walxaha." },
    { english: "at", maay: "ka" },
    { english: "atmosphere", maay: "Jawiga ama hawo ku hareeraysan aduunka, taas oo nolosha u muhiim ah." },
    { english: "attack", maay: "weerar" },
    { english: "attempt", maay: "isku day" },
    { english: "attend", maay: "ka soo qayb gal" },
    { english: "attention", maay: "feejignaan" },
    { english: "attitude", maay: "dhaqan" },
    { english: "attract", maay: "soo jiido" },
    { english: "attraction", maay: "soo jiidasho" },
    { english: "audience", maay: "dhagaystayaal" },
    { english: "aunt", maay: "eedo" },
    { english: "authority", maay: "awood" },
    { english: "autonomy", maay: "Xurriyad ama awooda qof ama bulsho si ay u maamusho arrimaha iyaga quseeya oo aan dibada laga maamulin." },
    { english: "available", maay: "la heli karo" },
    { english: "average", maay: "celcelis" },
    { english: "avoid", maay: "iska jir" },
    { english: "award", maay: "abaal marin" },
    { english: "aware", maay: "ku baraarug" },
    { english: "awareness", maay: "Ogaanshaha ama dareenka qofka uu ka qabo xaaladaha iyo waxyaalaha ku hareeraysan." }
];

const searchBar = document.getElementById('search-bar');
const suggestionsContainer = document.getElementById('suggestions');

// Ensure HTML elements exist
if (!searchBar || !suggestionsContainer) {
    console.error("Search bar or suggestions container not found in the HTML.");
}

// Search function with debouncing
let debounceTimeout;
searchBar.addEventListener('input', () => {
    clearTimeout(debounceTimeout);
    debounceTimeout = setTimeout(() => {
        const query = searchBar.value.toLowerCase().trim();
        suggestionsContainer.innerHTML = ''; // Clear suggestions

        if (query) {
            const filteredWords = dictionary.filter(
                word => word.english.includes(query) || word.maay.includes(query)
            );

            filteredWords.forEach(word => {
                const suggestion = document.createElement('div');
                suggestion.classList.add('suggestion-item');
                suggestion.textContent = `${word.english} - ${word.maay}`;
                suggestion.addEventListener('click', () => {
                    readWordAloud(word.english, word.maay);
                    animateSelection(suggestion);
                });
                suggestionsContainer.appendChild(suggestion);
            });
        }
    }, 300); // Debounce delay
});

// Text-to-speech function
function readWordAloud(english, maay) {
    const textToRead = `English: ${english}, Maay: ${maay}`;
    const speech = new SpeechSynthesisUtterance(textToRead);
    speech.lang = 'en-US';
    window.speechSynthesis.speak(speech);
}

// Animation for selection
function animateSelection(element) {
    element.style.background = "#00ff00";
    element.style.color = "#1a1a2e";
    setTimeout(() => {
        element.style.background = "";
        element.style.color = "#00ffc3";
    }, 500);
}
